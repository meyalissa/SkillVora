<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Select Your Background</title>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <!-- Material Symbols -->
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded"
      rel="stylesheet"
    />

    <!-- Page CSS -->
    <link rel="stylesheet" href="../css/background.css" />

    <!-- ✅ Breadcrumb style -->
    <style>
      .selection-preview {
        margin: 18px 0 22px;
        font-size: 16px;
        font-weight: 500;
      }

      /* Interest = grey */
      .selection-preview .interest-label,
      .selection-preview .interest-value {
        color: #656b81;
        font-weight: 600;
      }
    </style>
  </head>

  <body>
    <!-- Header -->
    <header class="resume-header">
      <div class="logo">
        <a href="../index.html">
          <img
            src="../assets/logo.png"
            class="nav_img_logo"
            alt="SkillVora Logo"
          />
        </a>
      </div>
    </header>

    <div class="container">
      <!-- Step -->
      <div class="step-header">
        <span class="step-title"
          >Step 2 of 3 – <strong>Background</strong></span
        >
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>

      <h2>Select Your Background</h2>
      <p class="subtitle">
        Select your background to help identify suitable career paths.
      </p>

      <!-- ✅ Breadcrumb -->
      <p class="selection-preview" id="breadcrumbText"></p>

      <!-- Background List -->
      <div class="background-list" id="backgroundList"></div>

      <!-- Footer -->
      <div class="background-footer">
        <button class="back-btn" onclick="window.location.href='interest.html'">
          Back
        </button>

        <button class="next-btn" id="nextBtn" disabled>Next</button>
      </div>
    </div>

    <script>
      const selectedInterest = localStorage.getItem("interest");
      const backgroundList = document.getElementById("backgroundList");
      const progressFill = document.getElementById("progressFill");
      const nextBtn = document.getElementById("nextBtn");

      // ✅ Breadcrumb shows Interest in grey
      const breadcrumbText = document.getElementById("breadcrumbText");
      breadcrumbText.innerHTML = `
        <span class="interest-label">Interest:</span>
        <span class="interest-value">${selectedInterest || "-"}</span>
      `;

      progressFill.style.width = "30%";
      nextBtn.disabled = true;

      /* BACKGROUND DATA */
      const backgroundData = {
        Technology: [
          { name: "Computer Science", icon: "computer" },
          { name: "Artificial Intelligence", icon: "smart_toy" },
          { name: "Mobile Application Development", icon: "smartphone" },
          { name: "Cybersecurity", icon: "security" },
          { name: "Cloud Computing", icon: "cloud" },
          { name: "Software Testing", icon: "bug_report" },
          { name: "Data Science", icon: "data_usage" },
          { name: "Information Technology", icon: "computer" },
          { name: "Information Systems", icon: "hub" },
          { name: "Software Engineering", icon: "engineering" },
          { name: "Web Technologies", icon: "language" },
        ],

        "Design & Creativity": [
          { name: "Graphic Design", icon: "brush" },
          { name: "UI / UX Design", icon: "design_services" },
          { name: "Digital Media", icon: "image" },
          { name: "Animation", icon: "movie" },
          { name: "Creative Technology", icon: "auto_awesome" },
        ],

        "Business & Management": [
          { name: "Business Administration", icon: "business" },
          { name: "Entrepreneurship", icon: "lightbulb" },
          { name: "Marketing", icon: "campaign" },
          { name: "Finance", icon: "account_balance" },
          { name: "Project Management", icon: "assignment" },
        ],

        "Data & Analytics": [
          { name: "Statistics", icon: "bar_chart" },
          { name: "Data Analysis", icon: "analytics" },
          { name: "Business Intelligence", icon: "insights" },
          { name: "Data Visualization", icon: "monitoring" },
          { name: "Quantitative Research", icon: "functions" },
        ],

        Communication: [
          { name: "Public Relations", icon: "groups" },
          { name: "Corporate Communication", icon: "forum" },
          { name: "Media Studies", icon: "tv" },
          { name: "Journalism", icon: "newspaper" },
          { name: "Content Strategy", icon: "edit_note" },
        ],

        Education: [
          { name: "Education Studies", icon: "school" },
          { name: "Curriculum Development", icon: "menu_book" },
          { name: "Educational Technology", icon: "laptop_chromebook" },
          { name: "Teaching & Learning", icon: "co_present" },
          { name: "Instructional Design", icon: "architecture" },
        ],
      };

      /* Render backgrounds */
      if (selectedInterest && backgroundData[selectedInterest]) {
        backgroundData[selectedInterest].forEach((bg) => {
          const btn = document.createElement("button");
          btn.className = "background";
          btn.dataset.background = bg.name;

          btn.innerHTML = `
            <span class="material-symbols-rounded icon">${bg.icon}</span>
            ${bg.name}
          `;

          backgroundList.appendChild(btn);
        });
      }

      /* Selection logic */
      document.addEventListener("click", (e) => {
        const button = e.target.closest(".background");
        if (!button) return;

        const isActive = button.classList.contains("active");
        document
          .querySelectorAll(".background")
          .forEach((btn) => btn.classList.remove("active"));

        if (!isActive) {
          button.classList.add("active");
          localStorage.setItem("background", button.dataset.background);
          progressFill.style.width = "60%";
          nextBtn.disabled = false;
        } else {
          localStorage.removeItem("background");
          progressFill.style.width = "30%";
          nextBtn.disabled = true;
        }
      });

      /* Next */
      nextBtn.addEventListener("click", () => {
        if (!nextBtn.disabled) {
          window.location.href = "skills.html";
        }
      });
    </script>
  </body>
      <script src="../js/theme-toggle.js"></script>
</html>
